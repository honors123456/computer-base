以下内容全基于8086CPU

## 一.寄存器

#### 1.通用寄存器

8086CPU所有寄存器都是16位，可以存放2个字节。AX,BX,CX,DX，是通用寄存器。

AX -------->AH(高位)   AL(低位)   

BX -------->BH(高位)   BL(低位) 

CX -------->CH(高位)   CL(低位) 

DX -------->DH(高位)   DL(低位) 

![](.\屏幕截图 2025-01-16 170424.png)

字  word 两个字节

字节 byte 1个字节



#### 2.简单汇编指令

![](.\屏幕截图 2025-01-16 170642.png)

#### 3.段地址

物理地址：所有内存单元构成的存储空间是一个一维的线性空间，每个内存单元都有唯一的地址，称为物理地址。

段地址：内存没有分段，但是CPU会对内存进行分段，例如，地址10000H~~100FFH的内存单元组成一个段，该

​				段的基础地址为10000H,段地址为 1000H,大小为100H。段地址 = 基础地址 / 16。

段地址分为3类，数据段，栈段，代码段

**物理地址**=**段地址** x 16 + **偏移地址**       （段地址 和 偏移地址 分别存储在对应的寄存器中）

![](.\屏幕截图 2025-01-16 174349.png)



#### 3.代码段寄存器

8086CPU有4个段寄存器。CS,DS,SS,ES。

CS		Code Segment 代码段寄存器

DS		Data Segment 数据段寄存器

SS		Stack Segment 栈段寄存器

ES		Extra Segment 额外段寄存器



CS和IP是8086CPU中最关键的寄存器，指示了指令的物理地址，CS是代码段寄存器，IP是指令指针寄存器。

![](.\屏幕截图 2025-01-16 180006.png)

在内存中有许多内存单元，但是CPU只认CS:IP指向的内存单元中的内容为指令。



#### 4.修改CS，IP指令

8086CPU不能使用mov来设置CS,IP的值。

jmp 2AE3:3           设置后，CS=2AE3H，IP=0003H，物理地址 2AE33H

jmp ax				   假设ax=0005H，设置后 CS=2AE3H，IP=0005H，物理地址 2AE35H，仅改变IP的内容



#### 5.数据段寄存器

DS	Data Segment 存储数据的段地址

mov bx,1000H

mov ds,bx

mov al,[0]

8086CPU不能直接mov ds,1000H，所以必须使用ax存储段地址

[0]，表示内存单元的偏移地址是0，默认段地址是ds，al是ax的低地址单元



#### 6.栈段寄存器

栈，先进后出。

![](D:\Code\computer-base\屏幕截图 2025-01-17 102200.png)



SS:SP指向栈顶元素

SP=SP-2



## 二.汇编程序入门

#### 1.基本过程

源程序-----(编译)------>.obj-------(链接)------->.exe



#### 2.源程序

![](D:\Code\computer-base\屏幕截图 2025-01-17 104259.png)



assume 假设某个寄存器和某个段相关联，cs:codesg，代码段寄存器和codesg段关联

codesg segment  定义一个段，段名称“codesg”

codesg ends		 名称“codesg"的段到此为止

end 汇编程序的结束标记



mov ax,4c00H

int 21H				程序返回

![](D:\Code\computer-base\屏幕截图 2025-01-17 111948.png)

![](D:\Code\computer-base\屏幕截图 2025-01-17 112037.png)



## 三.Loop指令



现在约定：

()，表示寄存器或者内存单元中的内容

idata，表示常量



#### 1.[bx]

与[0]一样，(ds)*16+(bx)，只不过偏移地址存放在bx寄存器中

mov ax,[bx]         (ax)=(ds) * 16 + (bx)

mov [bx],ax		 (ds) * 16 + (bx)=(ax)



#### 2.Loop

计算2^20

assume cs:code

code segment

​	mov ax,2

​	mov cx,19

s: add ax,ax

​	loop s

​	mov ax,4c00h

​	int 21h

code ends

end

循环次数一般放在 cx 寄存器中

标号 s,标识了一个地址，这个地址有一条指令:add ax,ax

执行loop时，（cx）=（cx）- 1

